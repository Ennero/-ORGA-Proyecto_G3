<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='configuracion.css') }}">
    <title>modo configuracion </title>
<body>
    <div class="container">
        <div class="matriz">
            <!-- Matriz 4x4 de botones -->
            <button onclick="">1</button>
            <button onclick="" >2</button>
            <button onclick="">3</button>
            <button onclick="">4</button>
            <button onclick="">5</button>
            <button onclick="">6</button>
            <button onclick="">7</button>
            <button onclick="">8</button>
            <button onclick="">9</button>
            <button onclick="">10</button>
            <button onclick="">11</button>
            <button onclick="">12</button>
            <button onclick="">13</button>
            <button onclick="">14</button>
            <button onclick="">15</button>
            <button onclick="">16</button>
        </div>
    </div>
    
    <button onclick="window.parent.mostrarTab('principal')">Regresar</button>
    <button onclick="mandarConfiguracion()">mandar configuracion de bombas</button>
    <button onclick="eliminarSeleccion()">eliminar seleccion de bombas</button>
   
    
</body>
<script>
    // Array para guardar los botones seleccionados
    const seleccionados = [];

    // Selecciona todos los botones de la matriz
    document.querySelectorAll('.matriz button').forEach(btn => {
        btn.addEventListener('click', function() {
            const valor = this.textContent;
            // Alternar selección
            if (seleccionados.includes(valor)) {
                // Si ya está seleccionado, lo quitamos
                seleccionados.splice(seleccionados.indexOf(valor), 1);
                this.classList.remove('seleccionado'); // Quita la clase
            } else {
                seleccionados.push(valor);
                this.classList.add('seleccionado'); // Agrega la clase
            }
        });
    });

    // Función para mandar la configuración
    function mandarConfiguracion() {
        if (seleccionados.length === 0) {
            alert("No has seleccionado ningún botón.");
        } else {
            alert("💣💣BOMBAS COLOCADAS EN LAS POSICIONES: " + seleccionados.join(", "));
            // Aquí puedes hacer un fetch o postMessage para enviar la configuración al backend o al padre
        }
    }
    
    function eliminarSeleccion() {
        seleccionados.length = 0; // Limpiar el array de seleccionados
        document.querySelectorAll('.matriz button').forEach(btn => {
            btn.classList.remove('seleccionado'); // Quitar la clase de selección
        });
    }
</script>
</html>